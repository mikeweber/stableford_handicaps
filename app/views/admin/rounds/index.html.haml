- content_for :header do
  Round scores

= form_tag('/admin/rounds', class: 'form-horizontal') do |f|
  .fixed-add-rounds
    .col-md-4
      Post scores for
      = text_field_tag(:occurred_on, fdate(Date.today), tabindex: 1, autofocus: true)
    .col-md-2.col-md-offset-6= submit_tag('Add rounds', class: 'btn btn-primary btn-small')

  .fixed-rounds-container
    - @golfers.each.with_index do |golfer, index|
      = fields_for("golfer[#{golfer.id}]", golfer.rounds.new(handicap: golfer.handicap)) do |round_form|
        .col-md-4
          %table.table.table-bordered
            %thead
              %tr.active
                %th{ style: 'width: 65%' }
                  = link_to(admin_golfer_path(golfer), target: '_blank') do
                    %span.glyphicon.glyphicon-search
                  = golfer.full_name_with_member_id
                %th
                  %span.current-handicap= golfer.handicap
                  %span.high-score-total== (Total #{HandicapCalculator.new(golfer).sum_of_best_scores})
              %tr
                %th Score
                %th Hdcp

            %tbody
              %tr
                %td= round_form.text_field(:net_score, class: 'shortnum track_changes', tabindex: index + 2)
                %td= round_form.text_field(:handicap, class: 'shortnum track_changes', tabindex: 1000 + index)

